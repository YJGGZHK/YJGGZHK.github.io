<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zyj.io</title>
    <script src="vue.js"></script>
</head>

<body>

    <div id="root">
        <h1>start,{{name}}</h1>
        <h2><a :href="url">123456</a></h2>
        <h2><a :href="url">{{school.name}}</a></h2>
        <input type="text" :value='school.name'>
        <input type="text" v-model:value='school.name'>
        <button v-on:click="showInfo">点击</button>
    </div>

    <div class="root2">
        <h1 :style="{opacity:opacity}">张宇杰</h1>
        <h2>renyuan</h2>
        <input type="text" placeholder="name" v-model="keyword">
        <button @click="sortType=0">原序</button>
        <button @click="sortType=1">年龄升序</button>
        <button @click="sortType=2">年龄降序</button>
        <ul>
            <li v-for="(item, index) in FILpersons" :key="item.id">
                {{item.name}}-{{item.age}}-{{item.sex}}

            </li>
        </ul>
    </div>
    <script>
        Vue.config.productionTip = false

        const x = new Vue({
            el: '#root',
            data: {
                name: 'niubi',
                url: 'https://www.bilibili.com/video/BV1Zy4y1K7SH/?p=7&spm_id_from=pageDriver&vd_source=ff7df09457066321a4274357bee01a48',
                school:
                {
                    name: "yjggzhk",
                },
            },
            methods: {
                showInfo() {
                    alert('你好')
                },


            },
            computed: {
            },
            watch: {
            },
        })
        const vm = new Vue({
            el: '.root2',

            data: {
                opacity: 1,
                keyword: '',
                sortType: '0',
                persons: [
                    { id: "001", name: "mdm", age: 19, sex: 'wm' },
                    { id: "002", name: "zdy", age: 12, sex: 'wm' },
                    { id: "003", name: "zjl", age: 12, sex: 'mm' },
                    { id: "004", name: "wzl", age: 19, sex: 'mm' }
                ],
                // flipersons:[]
            },
            // watch: {

            //     keyword:{
            //         immediate:true,
            //         handler(val){
            //             this.flipersons= this.persons.filter((item)=>{
            //             return item.name.indexOf(val)!==-1
            //             })
            //         }
            //     }

            // },
            computed: {
                FILpersons() {
                    const arr = this.persons.filter((item) => {
                        return item.name.indexOf(this.keyword) !== -1
                    })
                    if (this.sortType) {
                        if (this.sortType == 1) {
                            arr.sort((a, b) => { return a.age - b.age })
                        }
                        else if (this.sortType == 2) {
                            arr.sort((a, b) => { return b.age - a.age })
                        }
                    }
                    return arr
                }
            },
            methods: {

            },
            mounted() {
                console.log("yxl")
                setInterval(() => {
                    this.opacity = (Math.sin(new Date().getTime() / 1000) + 1) / 2;
                }, 16);
            },
        })
        // setInterval(() => {
        //     vm.opacity -= 0.01
        //     if (vm.opacity <= 0) {
        //         vm.opacity = 1
        //     }
        // }, 16);
    </script>

</body>

</html>